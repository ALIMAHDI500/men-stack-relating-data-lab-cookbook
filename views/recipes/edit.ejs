<!DOCTYPE html>
<html>
  <head>
    <title>Edit Recipe</title>
  </head>
  <body>
    <%- include('../partials/_navbar.ejs') %>
    <h1>Edit Recipe</h1>
    <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST">
      <label for="name">Recipe Name:</label>
      <input type="text" name="name" id="name" value="<%= recipe.name %>" required><br>

      <label for="instructions">Instructions:</label>
      <textarea name="instructions" id="instructions"><%= recipe.instructions %></textarea><br>

      <label>Ingredients:</label><br>
      <% ingredients.forEach(ingredient => { %>
        <input type="checkbox" name="ingredients" value="<%= ingredient._id %>"
          <%= recipe.ingredients.includes(ingredient._id) ? 'checked' : '' %>>
        <%= ingredient.name %><br>
      <% }) %>
      <button type="submit">Save Changes</button>
    </form>
    <a href="/recipes">Back</a>
  </body>
</html>